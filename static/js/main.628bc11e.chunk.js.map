{"version":3,"sources":["assets/without-icon.svg","assets/icon.svg","Containers/Signin/Signin.js","redux/connectedReducer/connectedReducer.js","Containers/Login/Login.js","redux/articles/articleReducer.js","Components/OptionsToggle/OptionsToggle.js","Components/CommentForm/CommentForm.js","Components/CommentCard/CommentCard.js","Components/ArticleUpdateForm/ArticleUpdateForm.js","Components/ArticleCard/ArticleCard.js","Components/ModalSearch/ModalSearch.js","assets/icon-left-font-monochrome-black.svg","assets/icon-left-font-monochrome-white.svg","Components/Header/Header.js","Components/AvatarCropper/cropImage.js","redux/usersReducer/usersReduser.js","Components/AvatarCropper/AvatarCropper.js","Components/DeleteAccount/DeleteAccount.js","Components/ProfilCard/ProfilCard.js","Containers/Profile/Profile.js","Components/ArticleForm/ArticleForm.js","redux/reportReducer/reportReducer.js","Containers/Home/Home.js","redux/socketReducer/socketReducer.js","Containers/ChatRoom/ChatRoom.js","Containers/ReportPage/ReportPage.js","App.js","redux/store.js","index.js"],"names":["Signin","socket","setUserId","setToken","setIsLogin","useForm","register","handleSubmit","useState","errorMessage","setErrorMessage","dispatch","useDispatch","passwordValid","setPasswordValid","history","useHistory","handleBlur","e","value","placeholder","required","className","src","icon","alt","logo","onSubmit","data","axios","post","process","nom","prenom","email","password","then","res","storageToken","userId","token","localStorage","setItem","JSON","stringify","type","push","catch","err","error","response","errors","map","item","msg","faUser","id","aria-label","onBlur","target","faAt","faLock","onInput","match","classList","add","handleChange","index","onClick","INITIALE_CONNECTED_STATE","connected","connectedReducer","state","action","io","path","auth","parse","connect","emit","disconnect","close","restoreConnection","get","params","ID","parseInt","headers","result","require","config","Login","useSelector","useEffect","userRole","message","INITIAL_ARTICLE_STATE","articles","articleReducer","payload","postArticle","unshift","postComment","findIndex","element","articleId","comments","likeArticles","article","liked","articleLikes","likeComment","articleIndex","commentLikes","updateArticles","updateIndex","image_url","texte_article","updateArticlesText","updateTextIndex","updateComment","commentId","artIndex","commIndex","texte_commentaire","deleteArticle","filter","deleteComment","updateArticle","fileType","put","alert","OptionsToggle","props","handleReport","itemId","faExclamationCircle","updateItem","setModify","modify","faPen","handleDelete","faTrashAlt","CommentForm","texte","comm","setComm","comment","onChange","faPaperPlane","CommentCard","option","setOption","commentData","handleLike","likeValue","avatar","faEllipsisH","delete","faHeart","ArticleUpdateForm","imageUrl","texteArticle","updatePreview","setUpdatePreview","handleResize","style","height","scrollHeight","file","formData","FormData","append","datas","autoFocus","onFocus","name","defaultValue","htmlFor","faImages","accept","URL","createObjectURL","files","handleFile","ArticleCard","articleData","showMore","setShowMore","likeArticle","to","pathname","user_id","reportArticle","length","uuidv4","ModalSearch","searchTerm","setSearchTerm","searchResult","handleToggleSearch","completName","Header","users","usersReducer","usersNames","userName","reportsCount","reportReducer","reported","count","window","innerWidth","windowWidth","setWindowWidth","setSearchResult","modalSearch","setModalSearch","myId","setMyId","me","MyId","changeWidth","addEventListener","removeEventListener","scrollTo","user","includes","handleDeconnection","removeItem","Logo","faHome","faComments","faUserShield","faSignOutAlt","WhiteLogo","faSearch","createImage","url","Promise","resolve","reject","image","Image","getRadiantAngle","degreeValue","Math","PI","getCroppedImg","imageSrc","pixelCrop","a","rotation","canvas","document","createElement","ctx","getContext","maxSize","max","width","safeArea","sqrt","translate","rotate","drawImage","getImageData","putImageData","x","y","generateDownload","crop","imageData","dataURLtoFile","dataurl","filename","arr","split","mime","bstr","atob","n","u8arr","Uint8Array","charCodeAt","File","test","toDataURL","INITIAL_USERS_STATE","getUsers","AvatarCropper","setUpdateAvatar","setCrop","zoom","setZoom","croppedArea","setCroppedArea","setImage","setImageData","onCropComplete","useCallback","croppedAreaPixels","reader","FileReader","readAsDataURL","aspect","objectFit","cropShape","showGrid","onCropChange","onZoomChange","DeleteAccount","setOpenModal","ProfilCard","updatedAvatar","setUpdatedAvatar","avatarChanged","setAvatarChanged","openModal","date","Date","date_signin","faEdit","toLocaleDateString","year","month","day","Profile","userProfile","useLocation","slice","find","Formulaire","preview","setPreview","fileData","setFileData","reset","INITIAL_REPORT_STATE","deletedArticleReport","deletedCommentReport","loadReports","Home","INITIAL_SOCKET_STATE","messages","socketReducer","newList","sendChat","ChatRoom","messagesList","setMessagesList","setUsers","body","on","preventDefault","messageData","ReportPage","handleDeleteArticle","deleteArticleReported","handleDeleteComment","deleteCommentReported","App","exact","component","rootReducer","combineReducers","store","createStore","applyMiddleware","thunk","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.628bc11e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/without-icon.30e27897.svg\";","export default __webpack_public_path__ + \"static/media/icon.c2dc8e58.svg\";","import { faAt, faLock, faUser } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport logo from '../../assets/without-icon.svg';\nimport icon from '../../assets/icon.svg';\n\nfunction Signin({  setUserId, setToken, setIsLogin }) {\n    const { register, handleSubmit } = useForm();\n    const [errorMessage, setErrorMessage] = useState([])\n    const dispatch = useDispatch()\n    const [passwordValid, setPasswordValid] = useState(true)\n\n    const history = useHistory();\n\n    const handleBlur = e => {\n        if(e.value === \"\") {\n            e.placeholder = \"Champ obligatoire\";\n            e.required = true;\n        }\n    }\n\n    const handleChange = e => {\n        if(e.value.match(/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])([a-zA-Z0-9]{8,15})$/) === null) {\n            e.required = true;\n            setPasswordValid(false);\n            e.classList.add(':invalid')\n        } else {\n            setPasswordValid(true);\n        }\n    }\n\n    const onSubmit = data => {\n        axios.post(`${process.env.REACT_APP_API_URL}/api/auth/signin`,\n        { nom: data.nom, prenom: data.prenom, email: data.email, password: data.password })// Post with each form element value\n        \n        .then(res => {\n            const storageToken = {\n                    \"userId\": res.data.userId,\n                    \"token\": res.data.token\n                }\n                localStorage.setItem(\"storageToken\", JSON.stringify(storageToken));\n                dispatch({ type: 'CONNECT' })\n                history.push('/home');\n            })\n            .catch(err => {\n                const error = err.response.data.errors.map(item => item.msg)\n                setErrorMessage(error)\n            })\n    };\n\n\n    return (\n        <div className=\"connection-container light-container\">\n                <div className=\"icon-container\">\n                    <img src={icon} alt=\"logo groupomania\" className=\"icon light-icon\" />\n                </div>\n                <img src={logo} alt=\"logo groupomania\"/>\n                <form className=\"login_form\" onSubmit={handleSubmit(onSubmit)}>\n                    <div className=\"input-container light-input\">\n                        <span className=\"input-icon light-input-icon\">\n                            <FontAwesomeIcon icon={faUser}/>\n                        </span>\n                        <input\n                            type=\"text\"\n                            id=\"prenom\"\n                            aria-label=\"prenom\"\n                            placeholder=\"Prenom\"\n                            {...register('prenom', {required: true})}\n                            onBlur={(e) => handleBlur(e.target)}\n                            />\n                    </div>\n\n                    <div className=\"input-container light-input\">\n                        <span className=\"input-icon light-input-icon\">\n                            <FontAwesomeIcon icon={faUser}/>\n                        </span>\n                        <input\n                            type=\"text\"\n                            id=\"nom\"\n                            aria-label=\"nom\"\n                            placeholder=\"Nom\"\n                            {...register('nom', {required: true})}\n                            onBlur={(e) => handleBlur(e.target)}\n                            />\n                    </div>\n\n                    <div className=\"input-container light-input\">\n                    <span className=\"input-icon light-input-icon\">\n                        <FontAwesomeIcon icon={faAt}/>\n                    </span>\n                    <input\n                        type=\"text\"\n                        id=\"email\"\n                        aria-label=\"email\"\n                        placeholder=\"Email\"\n                        {...register('email', {required: true})}\n                        onBlur={(e) => handleBlur(e.target)}\n                        />\n                    </div>\n\n                <div className=\"input-container light-input\">\n                    <span className=\"input-icon light-input-icon\">\n                        <FontAwesomeIcon icon={faLock}/>\n                    </span>\n                    <input\n                        type=\"password\"\n                        id=\"password\"\n                        aria-label=\"mot de passe\"\n                        placeholder=\"Mot de passe*\"\n                        {...register('password', {required: true})}\n                        onBlur={(e) => handleBlur(e.target)}\n                        onInput={(e) => handleChange(e.target)}\n                        />\n                    <p \n                        className={\n                            passwordValid ?\n                                \"info-password\"\n                            :\n                                \"info-password-invalid\"\n                            }\n                    >\n                        *Entre 8 et 15 caractères dont 1 minuscule, 1 majuscule, 1 chiffre</p>\n                </div>\n\n                    <button\n                        className=\"light-button\">\n                        S'inscrire\n                    </button>\n                    <span className=\"error-message\">\n                    {\n                        errorMessage && \n                        errorMessage.map((item, index) => <p key={index}>{item}</p>)\n                    }\n                    </span>\n                </form>\n                <p>Ou</p>\n                <button\n                    className=\"light-button\"\n                    onClick={() => history.push('/login')}>\n                    Se connecter\n                </button>\n            </div>\n    )\n}\n\nexport default Signin;","import axios from 'axios';\nimport io from 'socket.io-client';\nconst INITIALE_CONNECTED_STATE = {\n    connected: false,\n}\nlet socket;\n\nfunction connectedReducer(state = INITIALE_CONNECTED_STATE, action) {\n    \n    switch(action.type) {\n        case 'CONNECT': \n            socket = io(process.env.REACT_APP_API_URL, {path: '/groupomania_chat/'});\n            socket.auth = localStorage.storageToken && {\n                token: JSON.parse(localStorage.storageToken).token,\n                userId: JSON.parse(localStorage.storageToken).userId\n            }\n            socket.connect();\n            return {\n                connected: true\n            }\n        case 'DISCONNECT':\n            if (socket) {\n                socket.emit('deconnexion', socket.auth.userId)\n                socket.disconnect(socket.auth.userId);\n                socket.close();\n            }\n            return {\n                connected: false\n            }\n\n        default:\n            return state\n    }\n\n}\nexport default connectedReducer;\n\nexport const connection = data => dispatch => {\n    axios.post(`${process.env.REACT_APP_API_URL}/api/auth/login`,\n            { email: data.email,password: data.password })\n\n            .then(res => {\n                const storageToken = {\n                    \"userId\": res.data.userId,\n                    \"token\": res.data.token,\n                    \"userRole\": res.data.userRole\n                }\n                localStorage.setItem(\"storageToken\", JSON.stringify(storageToken));\n                dispatch({\n                    type: 'CONNECT'\n                })\n            })\n            .catch(err => {\n                alert(err.response.data.message);\n                // setErrorMessage();\n            })\n}\n\nexport const signup = data => dispatch => {\n    axios.post(`${process.env.REACT_APP_API_URL}/api/auth/signin`,\n            { nom: data.nom, prenom: data.prenom, email: data.email, password: data.password })// Post with each form element value\n\n            .then(res => {\n                const storageToken = {\n                    \"userId\": res.data.userId,\n                    \"token\": res.data.token\n                }\n                localStorage.setItem(\"storageToken\", JSON.stringify(storageToken));\n                dispatch({\n                    type: 'CONNECT'\n                })\n            })\n            .catch(err => {\n                alert(err.response.data.message)\n            })\n}\n\nexport const restoreConnection = () => dispatch => {\n    axios.get(`${process.env.REACT_APP_API_URL}/api/auth/restoreConnection`,\n        {\n            params: { ID: parseInt(JSON.parse(localStorage.storageToken).userId) },\n            headers : { \"authorization\": \"Bearer \" + JSON.parse(localStorage.storageToken).token }\n        } \n    )\n    .then(result => {\n        dispatch({\n            type: 'CONNECT'\n            })\n    })\n    .catch(result => {\n        dispatch({\n            type: 'DISCONNECT'\n        })\n    })\n}","import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useForm } from 'react-hook-form';\nimport logo from '../../assets/without-icon.svg';\nimport icon from '../../assets/icon.svg';\nimport { restoreConnection } from '../../redux/connectedReducer/connectedReducer';\nimport axios from 'axios';\nimport './Login.scss';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faAt, faLock } from '@fortawesome/free-solid-svg-icons';\nrequire('dotenv').config();\n\nfunction Login() {\n    const connected = useSelector(state => state.connectedReducer.connected)\n    const { register, handleSubmit, } = useForm();\n    const [errorMessage, setErrorMessage] = useState(\"\")\n    const dispatch = useDispatch();\n    if (!connected && localStorage.storageToken) {\n        dispatch(restoreConnection())\n    }\n\n    const history = useHistory();\n\n    useEffect(() => {\n        if (connected) {\n            history.push('/home')\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [connected])\n\n    const onSubmit = data => {\n        axios.post(`${process.env.REACT_APP_API_URL}/api/auth/login`,\n            { email: data.email,password: data.password })\n\n            .then(res => {        \n                const storageToken = {\n                    \"userId\": res.data.userId,\n                    \"token\": res.data.token,\n                    \"userRole\": res.data.userRole\n                }\n                localStorage.setItem(\"storageToken\", JSON.stringify(storageToken));\n                dispatch({ type: 'CONNECT' })                \n                history.push('/home');\n            })\n            .catch(err => {\n                setErrorMessage(err.response.data.message);\n            })\n    };\n\n    return (\n        <div className=\"connection-container light-container\">\n            <div className=\"icon-container\">\n                <img src={icon} alt='logo groupomania' className=\"icon light-icon\"/>\n            </div>\n            <img src={logo} alt='logo groupomania' className=\"login-logo\"/>\n                <form className=\"login_form\" onSubmit={handleSubmit(onSubmit)}>\n                <div className=\"input-container light-input\">\n                    <span className=\"input-icon light-input-icon\">\n                        \n                        <FontAwesomeIcon icon={faAt}/>\n                    </span>\n                    <input\n                        type=\"text\"\n                        id=\"email1\"\n                        aria-label=\"email\"\n                        placeholder=\"Email\"\n                        {...register('email', {required: true})}/>\n                </div>\n\n                <div className=\"input-container light-input\">\n                    <span className=\"input-icon light-input-icon\">\n                        <FontAwesomeIcon icon={faLock}/>\n                    </span>\n                    <input\n                        type=\"password\"\n                        id=\"password1\"\n                        aria-label=\"mot de passe\"\n                        placeholder=\"Mot de passe\"\n                        {...register('password', {required:true})}/>\n                    <span className=\"error-message\">{errorMessage && errorMessage}</span>\n                </div>\n                    <button \n                        className=\"light-button\">\n                        Connexion\n                    </button>\n                </form>\n                <p>Ou</p>\n            <button\n                className=\"light-button\"\n                onClick={() => history.push('/signin')}>\n                Créer un compte\n            </button>\n        </div>\n    )\n};\n\nexport default Login;","import axios from 'axios';\n\nconst INITIAL_ARTICLE_STATE = {\n    articles: []\n}\n\nfunction articleReducer(state = INITIAL_ARTICLE_STATE, action) {\n    switch(action.type) {\n        case 'LOADARTICLES':\n            return {\n                articles: action.payload\n            }\n\n        case 'POSTARTICLE':\n            const postArticle = [...state.articles];\n            postArticle.unshift(action.payload);\n\n            return {\n                articles: postArticle\n            }\n\n        case 'POSTCOMMENT':\n            const postComment = [...state.articles];\n            const index = postComment.findIndex(element => element.id === action.articleId);\n            postComment[index].comments.push(action.payload)\n\n            return {\n                articles: postComment\n            }\n\n        case 'LIKEARTICLE':\n            const likeArticles = [...state.articles];\n            const article = likeArticles[action.index];\n            article.liked = !article.liked;\n            article.liked ? \n                article.articleLikes++\n            :\n            article.articleLikes--;\n\n            return {\n                articles: likeArticles\n            }\n\n        case 'LIKECOMMENT':\n            const likeComment = [...state.articles];\n            const articleIndex = likeComment.findIndex(element => element.id === action.articleId);\n            likeComment[articleIndex].comments[action.index].liked = !likeComment[articleIndex].comments[action.index].liked;\n            likeComment[articleIndex].comments[action.index].liked ?\n                likeComment[articleIndex].comments[action.index].commentLikes++\n            :\n                likeComment[articleIndex].comments[action.index].commentLikes--;\n\n            return {\n                articles: likeComment\n            }\n\n        case 'UPDATEARTICLE':\n            const updateArticles = [...state.articles];\n            const updateIndex = updateArticles.findIndex(element => element.id === action.articleId);\n            updateArticles[updateIndex].image_url = action.payload.image_url;\n            updateArticles[updateIndex].texte_article = action.payload.article;\n            return {\n                articles: updateArticles\n            }\n\n        case 'UPDATEARTICLETEXT':\n            const updateArticlesText = [...state.articles];\n            const updateTextIndex = updateArticlesText.findIndex(element => element.id === action.articleId);\n            updateArticlesText[updateTextIndex].texte_article = action.payload;\n            return {\n                articles: updateArticlesText\n            }\n\n        case 'UPDATECOMMENT':\n            const updateComment = [...state.articles];\n            const { payload, articleId, commentId } = action;\n            const artIndex = updateComment.findIndex(element => element.id === articleId);\n            const commIndex = updateComment[artIndex].comments.findIndex(element => element.id === commentId);\n            updateComment[artIndex].comments[commIndex].texte_commentaire = payload;\n\n            return {\n                articles: updateComment\n            }\n\n        case 'DELETEARTICLE':\n            const deleteArticle = state.articles.filter(item => item.id !== action.articleId)\n\n            return {\n                articles: deleteArticle\n            }\n\n        case 'DELETECOMMENT':\n            const deleteComment = [...state.articles];\n            for (const article of deleteComment) {\n                if (article.id === action.articleId) {\n                    article.comments = article.comments.filter(item => item.id !== action.commentId)\n                    break\n                }\n            }\n\n            return {\n                articles: deleteComment\n            }\n\n        default:\n            return {\n                articles: state.articles\n            }\n    }\n}\n\nexport default articleReducer;\n\nexport const getArticles = () => dispatch => {\n    axios(`${process.env.REACT_APP_API_URL}/api/article/getall`,\n        {\n            params: { ID: parseInt(JSON.parse(localStorage.storageToken).userId) },\n            headers : { \"authorization\": \"Bearer \" + JSON.parse(localStorage.storageToken).token }\n        }\n    )\n    .then(res => {\n        dispatch({\n            type: 'LOADARTICLES',\n            payload: res.data\n        })\n    })\n\n    .catch(err => alert(err.response.data.error.message))\n}\n\nexport const postArticle = (data, fileType) => dispatch =>{\n    axios.post(`${process.env.REACT_APP_API_URL}/api/article/article`,\n        data,\n        {\n            params: { ID: parseInt(JSON.parse(localStorage.storageToken).userId) },\n            headers: {\n                \"Content-Type\": `${fileType}`,\n                \"authorization\": \"Bearer \" + JSON.parse(localStorage.storageToken).token,\n            }\n        }\n    )\n\n        .then(res => {\n            dispatch({\n                type: 'POSTARTICLE',\n                payload: res.data\n            })\n        })\n    .catch(err => alert(err.response.data.error.message))\n}\n\nexport const postComment = (articleId, comment) => dispatch => {\n    axios.post(`${process.env.REACT_APP_API_URL}/api/comment`,\n        {articleId, comment},\n        {\n            params: { ID: parseInt(JSON.parse(localStorage.storageToken).userId) },\n            headers : { \"authorization\": \"Bearer \" + JSON.parse(localStorage.storageToken).token }\n        }\n    )\n    .then(res => {\n        dispatch({\n            type: 'POSTCOMMENT',\n            payload: res.data,\n            articleId: articleId\n        })\n    })\n    .catch(err => alert(err.response.data.error.message))\n}\n\n\nexport const likeArticle = (articleId, index, likeValue) => dispatch => {\n    if (likeValue) {\n        axios.post(`${process.env.REACT_APP_API_URL}/api/unlikeArticle`,\n            {articleId},\n            {\n                params: { ID: parseInt(JSON.parse(localStorage.storageToken).userId) },\n                headers : { \"authorization\": \"Bearer \" + JSON.parse(localStorage.storageToken).token }\n            }\n        )\n        .then(res => {\n            dispatch({\n                type: 'LIKEARTICLE',\n                index: index\n                })\n            })\n    .catch(err => alert(err.response.data.error.message))\n\n    } else {\n        axios.post(`${process.env.REACT_APP_API_URL}/api/likeArticle`,\n            {articleId},\n            {\n                params: { ID: parseInt(JSON.parse(localStorage.storageToken).userId) },\n                headers : { \"authorization\": \"Bearer \" + JSON.parse(localStorage.storageToken).token }\n            }\n        )\n        .then(res => {\n            dispatch({\n                type: 'LIKEARTICLE',\n                index: index\n                })\n            })\n        .catch(err => alert(err.response.data.error.message))\n    }\n};\n\nexport const likeComment = (commentId, index, articleId, likeValue) => dispatch => {\n    if (likeValue) {\n        axios.post(`${process.env.REACT_APP_API_URL}/api/likeComment`,\n            {commentId},\n            {\n                params: { ID: parseInt(JSON.parse(localStorage.storageToken).userId) },\n                headers : { \"authorization\": \"Bearer \" + JSON.parse(localStorage.storageToken).token }\n            }\n        )\n        .then(res => {\n            dispatch({\n                type: 'LIKECOMMENT',\n                index: index,\n                articleId: articleId\n            });\n        })\n    .catch(err => alert(err.response.data.error.message))\n\n    } else {\n        axios.post(`${process.env.REACT_APP_API_URL}/api/unlikeComment`,\n            {commentId},\n            {\n                params: { ID: parseInt(JSON.parse(localStorage.storageToken).userId) },\n                headers : { \"authorization\": \"Bearer \" + JSON.parse(localStorage.storageToken).token }\n            }\n        )\n        .then(res => {\n            dispatch({\n                type: 'LIKECOMMENT',\n                index: index,\n                articleId: articleId\n            });\n        })\n        .catch(err => alert(err.response.data.error.message))\n    }\n};\n\nexport const deleteArticle = articleId  => dispatch => {\n    axios.delete(`${process.env.REACT_APP_API_URL}/api/article/delete`,\n    {\n        params: { ID: parseInt(JSON.parse(localStorage.storageToken).userId) },\n        headers : { \"authorization\": \"Bearer \" + JSON.parse(localStorage.storageToken).token },\n        data: { articleId }\n    })\n    .then(res => {\n        dispatch({\n            type: 'DELETEARTICLE',\n            articleId: articleId\n        })\n    })\n    .catch(err => alert(err.response.data.error.message))\n}\n\nexport const deleteComment = (commentId, articleId) => dispatch => {\n    axios.delete(`${process.env.REACT_APP_API_URL}/api/comment/delete`,\n        {\n            params: { ID: parseInt(JSON.parse(localStorage.storageToken).userId) },\n            headers : { \"authorization\": \"Bearer \" + JSON.parse(localStorage.storageToken).token },\n            data: { commentId }\n        }\n    )\n    .then(res => {\n        dispatch({\n            type: 'DELETECOMMENT',\n            commentId: commentId,\n            articleId: articleId\n        })\n    })\n    .catch(err => alert(err.response.data.error.message))\n}\n\nexport const updateArticle = (data, articleId, fileType) => dispatch => {\n    if (fileType) {\n        axios.put(`${process.env.REACT_APP_API_URL}/api/article/updateArticle`, \n            data,\n            {\n                params: { ID: parseInt(JSON.parse(localStorage.storageToken).userId) },\n                headers: {\n                    \"Content-Type\": `${fileType}`,\n                    \"authorization\": \"Bearer \" + JSON.parse(localStorage.storageToken).token\n                }\n            }\n        )\n        .then(res => {\n            dispatch({\n                type: 'UPDATEARTICLE',\n                payload: res.data,\n                articleId: articleId\n            })\n        })\n        .catch(err => alert(err.response.data.error.message))\n    } else {\n        axios.put(`${process.env.REACT_APP_API_URL}/api/article/updateText`, \n            data,\n            {\n                params: { ID: parseInt(JSON.parse(localStorage.storageToken).userId) },\n                headers: { \"authorization\": \"Bearer \" + JSON.parse(localStorage.storageToken).token },\n            }\n        )\n        .then(res => {\n            dispatch({\n                type: 'UPDATEARTICLETEXT',\n                payload: res.data,\n                articleId: articleId\n            })\n        })\n        .catch(err => alert(err.response.data.error.message))\n    }\n}\n\nexport const updateComment = (texte_commentaire, commentId, articleId) => dispatch => {\n    const data = {texte_commentaire, commentId}\n    axios.put(`${process.env.REACT_APP_API_URL}/api/comment/update`,\n        data,\n        {\n            params: { ID: parseInt(JSON.parse(localStorage.storageToken).userId) },\n            headers : { \"authorization\": \"Bearer \" + JSON.parse(localStorage.storageToken).token }\n        }\n    )\n    .then(res => {\n        dispatch({\n            type: 'UPDATECOMMENT',\n            payload: texte_commentaire,\n            articleId,\n            commentId\n        })\n    })\n    .catch(err => alert(err.response.data.error.message))\n}\n\nexport const reportArticle = articleId => dispatch => {\n    axios.post(`${process.env.REACT_APP_API_URL}/api/article/report`,\n        {articleId},\n        {\n            params: { ID: parseInt(JSON.parse(localStorage.storageToken).userId) },\n            headers : { \"authorization\": \"Bearer \" + JSON.parse(localStorage.storageToken).token }\n        }\n    )\n    .then(res => {\n        res.data.message === \"déja signalé\" && alert(\"Vous avez déja signalé cette article.\");\n    })\n    .catch(err => alert(err.response.data.error.message))\n}\n\nexport const reportComment = commentId => dispatch => {\n    axios.post(`${process.env.REACT_APP_API_URL}/api/comment/report`,\n        {commentId},\n        {\n            params: { ID: parseInt(JSON.parse(localStorage.storageToken).userId) },\n            headers : { \"authorization\": \"Bearer \" + JSON.parse(localStorage.storageToken).token }\n        }\n    )\n    .then(res => {\n        res.data.message === \"déja signalé\" && alert(\"vous avez déja signalé ce commentaire.\")\n    })\n    .catch(err => alert(err.response.data.error.message))\n} ","import React from 'react';\nimport './OptionsToggle.scss'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faExclamationCircle, faPen, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\n\nexport default function OptionsToggle(props) {\n\n    return (\n            <div className=\"options-card light-container\">\n                    <button\n                        onClick={() => props.handleReport(props.itemId)}\n                        className=\"option-button option signal light-button\"\n                    >\n                        Signaler\n                        <FontAwesomeIcon\n                            icon={faExclamationCircle}\n                        />\n                    </button>\n                    { props.updateItem && \n                    <>\n                        <button\n                            onClick={() => props.setModify(!props.modify)}\n                            className=\"option-button light-button option edit\"\n                        >\n                            Modifier\n                            <FontAwesomeIcon\n                                icon={faPen}\n                            />\n                        </button>\n                        <button\n                            onClick={() => props.handleDelete(\n                                props.itemId\n                                )}\n                            className=\"option-button light-button option delete\"\n                        >\n                            Supprimer\n                            <FontAwesomeIcon\n                                icon={faTrashAlt}\n                            />\n                        </button>\n                    </>\n                    }\n                </div>\n    )\n}\n","import React from 'react';\nimport { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport './CommentForm.scss';\nimport { postComment, updateComment } from '../../redux/articles/articleReducer';\nimport { useForm } from 'react-hook-form';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPaperPlane } from '@fortawesome/free-solid-svg-icons';\n\nexport default function CommentForm({ articleId, texte, commentId }) {\n    const { register, handleSubmit } = useForm();\n    const [comm, setComm] = useState(texte ? texte : \"\");\n    const dispatch = useDispatch();\n\n\n    const onSubmit = (data) => {\n        dispatch(postComment(articleId, data.comment));\n    }\n\n    const onUpdateSUbmit = data => {\n        dispatch(updateComment(data.comment, commentId, articleId))\n    }\n\n    return (\n        <>\n            <form \n                onSubmit={texte ?\n                    handleSubmit(onUpdateSUbmit)\n                :\n                    handleSubmit(onSubmit)\n                }\n                className=\"comment-form\"\n            >\n                <input\n                    {...register('comment', {required: true})}\n                    value={comm}\n                    onChange={(e) => setComm(e.target.value)}\n                    type=\"text\"\n                    aria-label=\"ajouter un commentaire\"\n                    placeholder=\"Ajouter un commentaire\"\n                    className=\"comment-form-input\" />\n                <button\n                    type=\"submit\"\n                    className=\"comment-form-button\">\n                    <FontAwesomeIcon \n                        icon={faPaperPlane}\n                    />\n                </button>\n            </form>\n        </>\n    )\n}\n","import { faHeart, faEllipsisH } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { useDispatch } from 'react-redux';\nimport { likeComment } from '../../redux/articles/articleReducer';\nimport OptionsToggle from '../OptionsToggle/OptionsToggle';\nimport CommentForm from '../CommentForm/CommentForm';\nimport React, { useState } from 'react';\nimport { deleteComment, reportComment } from '../../redux/articles/articleReducer';\nimport './CommentCard.scss';\n\nexport default function CommentCard(props) {\n    const [option, setOption] = useState(false);\n    const [modify, setModify] = useState(false);\n\n    const comment = props.commentData;\n\n    const dispatch = useDispatch();\n\n    const handleLike = (commentId, index, articleId, likeValue) => {\n        dispatch(likeComment(commentId, index, articleId, likeValue));\n    }\n\n    const handleReport = articleId => {\n        dispatch(reportComment(articleId))\n        setOption(false);\n    }\n\n    const handleDelete = (commentId, articleId) => {\n        setOption(false);\n        dispatch(deleteComment(commentId, articleId))\n    }\n\n    return (\n        <article className=\"article-card light-container\">\n            <div className=\"card-header-comment\">\n                <h3>\n                    <img\n                        className=\"comment-avatar light-container\"\n                        src={comment.avatar}\n                        alt={comment.nom}\n                    />\n                    {comment.prenom} {comment.nom}\n                </h3>\n                <button\n                    onClick={() => setOption(!option)}\n                    className=\"option-toggle light-button\">\n                    <FontAwesomeIcon icon={faEllipsisH}/>\n                </button>\n            </div>\n            {option && \n            <OptionsToggle\n                handleReport={handleReport}\n                handleDelete={handleDelete}\n                setModify={setModify}\n                modify={modify}\n                itemId={comment.id}\n                articleId={props.articleId}\n                updateItem={comment.updateComment}\n            />\n            }\n            {comment.updateComment && <span>Modifier</span> }\n            <div className=\"comment-content\">\n                {modify ? \n                    <CommentForm\n                        articleId={props.articleId}\n                        texte={comment.texte_commentaire}\n                        commentId={comment.id}\n                    />\n                :\n                    <p className=\"comment\">{comment.texte_commentaire}</p>\n                }\n                <button\n                    className=\"like-button light-button\"\n                    onClick={() => handleLike(comment.id, props.index, props.articleId, comment.liked)}\n                >\n                    <FontAwesomeIcon\n                        icon={faHeart}\n                        className={comment.liked ?\n                            \"like-icon liked\"\n                        :\n                            \"like-icon unliked\"\n                        }\n                    />\n                    {comment.commentLikes}\n                </button>\n            </div>\n        </article>\n    )\n}\n","import React, { useState, useEffect } from \"react\";\nimport { useDispatch } from 'react-redux';\nimport { updateArticle } from '../../redux/articles/articleReducer';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport '../ArticleForm/ArticleForm.scss'\nimport { faImages, faPaperPlane } from \"@fortawesome/free-solid-svg-icons\";\nimport { useForm } from 'react-hook-form';\n\nfunction ArticleUpdateForm({imageUrl, texteArticle, articleId, index, setModify, modify}) {\n    const { register, handleSubmit } = useForm();\n    const [updatePreview, setUpdatePreview] = useState();\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        setUpdatePreview(imageUrl);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    const handleFile = e => {\n        setUpdatePreview(URL.createObjectURL(e.target.files[0]))\n    }\n\n    const onSubmit = data => {\n        if (data.file[0]) {\n            const formData = new FormData();\n            formData.append('article', data.article);\n            formData.append('articleId', articleId);\n            formData.append('file', data.file[0]);\n            dispatch(updateArticle(formData, articleId, data.file[0].type))\n        } else {\n            const datas = {\n                article: data.article,\n                articleId\n            }\n            dispatch(updateArticle(datas, articleId))\n        }\n        setModify(!modify);\n    }\n\n    const handleResize = e => {\n        e.target.style.height = e.target.scrollHeight + \"px\"\n    }\n\n    return (\n        <form\n            className=\"form-article\"\n            onSubmit={handleSubmit(onSubmit)}>\n            <textarea\n                autoFocus\n                onInput={e => handleResize(e)}\n                onFocus={e => handleResize(e)}\n                aria-label=\"ajouter un article\"\n                placeholder=\"Quoi de neuf ?\"\n                className=\"form-article-input\"\n                name=\"article\"\n                defaultValue={texteArticle}\n                {...register('article')}\n                />\n            <label \n                htmlFor=\"update-image\"\n                className=\"form-article-button form-article-file\">\n                <FontAwesomeIcon\n                    icon={faImages}\n                />\n            </label>\n            <input\n                type=\"file\"\n                id=\"update-image\"\n                className=\"image\"\n                name=\"file\"\n                accept=\"image/*\"\n                {...register('file')}\n                onChange={e => handleFile(e)}\n                />\n            <img src={updatePreview} alt=\"preview\" className=\"preview\" />\n            <button \n                className=\"form-article-button form-article-send\">\n                    <FontAwesomeIcon\n                        icon={faPaperPlane}\n                        className=\"article-form-send\"\n                    />\n            </button>\n        </form>\n    )\n}\n\nexport default ArticleUpdateForm;","import React, { useState } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport CommentCard from '../CommentCard/CommentCard';\nimport CommentForm from '../CommentForm/CommentForm';\nimport ArticleUpdateForm from '../ArticleUpdateForm/ArticleUpdateForm';\nimport OptionsToggle from '../OptionsToggle/OptionsToggle';\nimport { deleteArticle, likeArticle, reportArticle } from '../../redux/articles/articleReducer';\nimport { useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEllipsisH, faHeart } from '@fortawesome/free-solid-svg-icons';\nimport './ArticleCard.scss';\nimport { useEffect } from 'react';\n\n\nexport default function ArticleCard(props) {\n    const articles = props.articleData;\n    const [option, setOption] = useState();// When option is true open modal\n    const [modify, setModify] = useState(false);// When modify is true display formArticle\n    const [showMore, setShowMore] = useState();\n    const dispatch = useDispatch();\n\n\n    useEffect(() =>{\n        setShowMore(false)\n    }, [option])\n    const handleLike = (articleId, index, likeValue) => {\n        dispatch(likeArticle(articleId, index, likeValue))\n    }\n\n    const handleReport = articleId => {\n        dispatch(reportArticle(articleId))\n        setOption(false);\n    }\n\n    const handleDelete = articleId => {\n        setOption(false);\n        dispatch(deleteArticle(articleId))\n    }\n\n\n    const handleShowMore = () => {\n        setShowMore(!showMore)\n    }\n\n    return (\n        <article className=\"article-card light-container\">\n            <div className=\"card-header\">\n\n                <h2>\n                    <Link to={{\n                        pathname: `/profile/${articles.prenom}-${articles.nom}-${articles.user_id}`,\n                        state: {\n                            userId: articles.user_id\n                        }\n                    }}>\n                        <img\n                            className=\"avatar light-container\"\n                            src={articles.avatar}\n                            alt={articles.nom}\n                        />\n                    </Link>\n                    {articles.prenom} {articles.nom}\n                </h2>\n                <button\n                    onClick={() => setOption(!option)}\n                    className=\"option-toggle light-button\">\n                    <FontAwesomeIcon icon={faEllipsisH}/>\n                </button>\n            </div>\n            {option && \n            <OptionsToggle\n                handleReport={handleReport}\n                handleDelete={handleDelete}\n                setModify={setModify}\n                modify={modify}\n                itemId={articles.id}\n                updateItem={articles.updateArticle}\n            />\n            }\n            {modify ?\n                <ArticleUpdateForm\n                    imageUrl={articles.image_url}\n                    texteArticle={articles.texte_article}\n                    setModify={setModify}\n                    modify={modify}\n                    articleId={articles.id}\n                    index={props.index}\n                    />\n            :\n                <figure>\n                        <h3 className=\"article-card-title\">{articles.texte_article}</h3>\n                    <img\n                        className=\"article-card-picture light-container\"\n                        src={articles.image_url}\n                        alt={articles.texte_article}/>\n                    <figcaption className=\"article-card-footer\">\n                        <span className=\"like-container\">\n                            <button\n                                className=\"like-button light-button\"\n                                onClick={() => handleLike(articles.id, props.index, articles.liked)}\n                            >\n                                <FontAwesomeIcon\n                                    icon={faHeart}\n                                    className={articles.liked ?\n                                        \"like-icon liked\"\n                                    :\n                                        \"like-icon unliked\"\n                                    }\n                                />\n                                {articles.articleLikes}\n                            </button>\n                        </span>\n                        <button\n                            className=\"comment-button light-button\"\n                            onClick={() => handleShowMore()}\n                        >\n                            {articles.comments.length} Commentaires\n                        </button>\n                    </figcaption>\n                </figure>\n            }\n            {showMore &&\n                articles.comments.map((item, index) => (\n                    <CommentCard commentData={item} index={index} articleId={articles.id} key={uuidv4()}/>\n                ))\n            }\n            <CommentForm articleId={articles.id}/>\n        </article>\n    )\n}","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './ModalSearch.scss';\n\nexport default function ModalSearch({ searchTerm, setSearchTerm, searchResult, handleToggleSearch }) {\n    return (\n        <div className=\"overlay\">\n            <div>\n                <div className=\"modal-header\">\n                    <input\n                        type=\"text\"\n                        id=\"search-bar-modal\"\n                        className=\"modal-search\"\n                        placeholder=\"Rechercher\"\n                        autoFocus\n                        value={searchTerm}\n                        onChange={e => setSearchTerm(e.target.value)}\n                    />\n                    <button\n                    className=\"button-close\"\n                    onClick={handleToggleSearch}>X</button>\n                </div>\n                <ul className=\"modal-search-liste\">\n                    {searchResult.map((item, index) => (\n                        <li key={index}>\n                            <Link to={{\n                                pathname: `/profile/${item.prenom}-${item.nom}`,\n                                state: {\n                                        userId: item.id\n                                    }\n                            }}>\n                                <img src={item.avatar} alt={`avatar de ${item.completName}`} className=\"modal-search-liste-avatar\"/>\n                                {item.prenom} {item.nom}\n                            </Link>\n                        </li>\n                    ))}\n                </ul>\n            </div>\n        </div>\n    )\n}\n","export default __webpack_public_path__ + \"static/media/icon-left-font-monochrome-black.91535550.svg\";","export default __webpack_public_path__ + \"static/media/icon-left-font-monochrome-white.99f769c7.svg\";","import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { useHistory } from 'react-router-dom';\nimport './Header.scss';\nimport ModalSearch from '../ModalSearch/ModalSearch';\nimport Logo from '../../assets/icon-left-font-monochrome-black.svg';\nimport WhiteLogo from '../../assets/icon-left-font-monochrome-white.svg';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faComments, faHome, faSearch, faSignOutAlt, faUser, faUserShield } from '@fortawesome/free-solid-svg-icons';\n\n\nexport default function Header() {\n    const { users } = useSelector(state => ({\n        ...state.usersReducer\n    }))\n    const usersNames = [...users];\n    for (const userName of usersNames) {\n        userName.completName = userName.prenom + \" \" + userName.nom\n    }\n    \n    const { connected } = useSelector(state => ({\n        ...state.connectedReducer\n    }))\n\n    const reportsCount = useSelector(state => (\n        state.reportReducer.reported.count\n    ))\n    const dispatch = useDispatch();\n    const history = useHistory();\n    // If deconnected redirect to login page\n    !connected && history.push('/');\n    \n    const [ windowWidth, setWindowWidth ] = useState(window.innerWidth);\n    const [searchTerm, setSearchTerm] = useState(\"\");\n    const [searchResult, setSearchResult] = useState([]);\n    const [modalSearch, setModalSearch] = useState(false);\n    const [ myId, setMyId ] = useState();\n    const me = parseInt(JSON.parse(localStorage.storageToken).userId)\n\n\n    useEffect(() => {\n        const MyId = users.filter(item => item.id === me);\n        setMyId(...MyId);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [users])\n\n    useEffect(() => {\n        const changeWidth = () => {\n            setWindowWidth(window.innerWidth);\n        }\n        \n        window.addEventListener('resize', changeWidth);\n        \n        return () => {\n            window.removeEventListener('resize', changeWidth);\n        }\n    }, [windowWidth])\n    \n    const handleToggleSearch = () => {\n        setModalSearch(!modalSearch);\n        setSearchTerm(\"\");\n    }\n    \n    \n    useEffect(() => {\n        window.scrollTo(0, 0);\n        const result = usersNames.filter(user =>\n            user.completName.includes(searchTerm)\n            );\n            searchTerm === \"\" ?\n            setSearchResult([])\n            :\n            setSearchResult(result)\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [searchTerm])\n    \n    const handleDeconnection = () => {\n        localStorage.removeItem(\"storageToken\");\n        dispatch({\n            type: 'DISCONNECT'\n        })\n        history.push('/');\n    }\n\n\n\n    return (\n        <>\n        {/* {    Desktop version     } */}\n        { windowWidth > 1024 ?          \n            <nav className=\"nav\">\n                <img src={Logo} alt=\"logo Groupomania\" className=\"nav-logo\"/>\n                <ul className=\"liste\">\n                    {myId &&\n                        <li className=\"items\">\n                            <Link to={{\n                                pathname: `/profile/${myId.prenom}-${myId.nom}-${myId.id}`,\n                                state: {\n                                    userId: myId.id\n                                }\n                            }}>\n                            <img\n                                className=\"me-avatar\"\n                                src={myId.avatar}\n                                alt={myId.nom}\n                        />\n                            </Link>\n                        </li>\n                    }\n                    <li className=\"items\">\n                        <FontAwesomeIcon\n                            icon={faHome}\n                            onClick={() => history.push('/home')}\n                        />\n                    </li>\n                    <li className=\"items\">\n                        <FontAwesomeIcon\n                            icon={faComments}\n                            onClick={() => history.push('/chat')}\n                        />\n                    </li>\n                    {JSON.parse(localStorage.storageToken).userRole === 'Moderator' &&\n                    <li className=\"items\">\n                        <FontAwesomeIcon\n                            icon={faUserShield}\n                            onClick={() => history.push('/ReportPage')}\n                        />\n                        <span>\n                            {reportsCount}\n                        </span>\n                    </li>\n                    }\n                    <li className=\"items\">\n                        <FontAwesomeIcon\n                            icon={faSignOutAlt}\n                            onClick={handleDeconnection}\n                        />\n                    </li>\n                </ul>\n                <div className=\"search-container\">\n                    <input\n                        type=\"text\"\n                        id=\"search-bar\"\n                        className=\"search\"\n                        placeholder=\"Rechercher\"\n                        value={searchTerm}\n                        onChange={e => setSearchTerm(e.target.value)}\n                        />\n                    <ul className=\"search-liste\">\n                        {searchResult.map((item, index) => (\n                            <li key={index}>\n                                <Link to={{\n                                    pathname: `/profile/${item.prenom}-${item.nom}`,\n                                    state: {\n                                        userId: item.id\n                                    }\n                                }}>\n                                    <img src={item.avatar} alt={`avatar de ${item.completName}`} className=\"search-liste-avatar\"/>\n                                    {item.prenom} {item.nom}\n                                </Link>\n                            </li>\n                        ))}\n                    </ul>\n                </div>\n            </nav>\n        :\n            <>\n            {/* {     Mobile version    } */}\n                <div className=\"nav-logo-small-container\">\n                    <img src={WhiteLogo} alt=\"logo Groupomania\" className=\"nav-logo-small\"/>\n                </div>\n                <nav className=\"nav-small\">\n                    <ul className=\"liste liste-small\">\n                        {myId &&\n                        <li className=\"items\">\n                            <Link to={{\n                                pathname: `/profile/${myId.prenom}-${myId.nom}-${myId.id}`,\n                                state: {\n                                    userId: myId.id\n                                }\n                            }}>\n                            <img\n                                className=\"me-avatar\"\n                                src={myId.avatar}\n                                alt={myId.nom}\n                        />\n                            </Link>\n                        </li>\n                        }\n                        <li className=\"items\">\n                            <FontAwesomeIcon\n                                icon={faHome}\n                            onClick={() => history.push('/home')}\n                            />\n                        </li>\n                        <li className=\"items\">\n                        <FontAwesomeIcon\n                            icon={faComments}\n                            onClick={() => history.push('/chat')}\n                        />\n                        </li>\n                        <li>\n                            <FontAwesomeIcon\n                                icon={faSearch}\n                                onClick={handleToggleSearch} \n                                className=\"search-icon items\"\n                            />\n                        </li>\n                        {JSON.parse(localStorage.storageToken).userRole === 'Moderator' &&\n                            <li className=\"items\">\n                                <FontAwesomeIcon\n                                icon={faUserShield}\n                                onClick={() => history.push('/ReportPage')}\n                            />\n                            </li>\n                        }\n                        <li className=\"items\">\n                            <FontAwesomeIcon\n                                icon={faSignOutAlt}\n                                onClick={handleDeconnection}\n                            />\n                        </li>\n                    </ul>\n                </nav>\n                {modalSearch &&\n                    <ModalSearch\n                        searchTerm={searchTerm}\n                        setSearchTerm={setSearchTerm}\n                        searchResult={searchResult}\n                        handleToggleSearch={handleToggleSearch}\n                    />\n                }\n            </>\n        }\n        </>\n    )\n}\n","const createImage = url => \n    new Promise((resolve, reject) => {\n        const image = new Image();\n        image.addEventListener('load', () => resolve(image));\n        image.addEventListener('error', error => reject(error));\n        image.src = url;\n    })\nfunction getRadiantAngle(degreeValue) {\n    return (degreeValue * Math.PI) / 100;\n}\n\nexport default async function getCroppedImg(imageSrc, pixelCrop, rotation=0) {\n    const image = await createImage(imageSrc);\n    const canvas = document.createElement(\"canvas\");\n    const ctx = canvas.getContext(\"2d\");\n\n    const maxSize = Math.max(image.width, image.height);\n    const safeArea = 2 * ((maxSize / 2) * Math.sqrt(2));\n\n    canvas.width = safeArea;\n    canvas.height = safeArea;\n\n    ctx.translate(safeArea / 2, safeArea / 2);\n    ctx.rotate(getRadiantAngle(rotation));\n    ctx.translate(-safeArea /2, -safeArea /2);\n\n    ctx.drawImage(\n        image,\n        safeArea / 2 - image.width * 0.5,\n        safeArea / 2 - image.height * 0.5\n    );\n\n    const data = ctx.getImageData(0, 0, safeArea, safeArea);\n\n    canvas.width = pixelCrop.width;\n    canvas.height = pixelCrop.height;\n\n    ctx.putImageData(\n        data,\n        0 - safeArea / 2 + image.width * 0.5 - pixelCrop.x,\n        0 - safeArea / 2 + image.height * 0.5 - pixelCrop.y\n    );\n\n    return canvas;\n}\n\nexport const generateDownload = async (imageSrc, crop, imageData) => {\n    if (!crop || ! imageSrc) {\n        return;\n    }\n    const { type, name } = imageData\n    const canvas = await getCroppedImg(imageSrc, crop);\n    function dataURLtoFile(dataurl, filename, type) {\n        var arr = dataurl.split(','),\n            mime = type,\n            bstr = atob(arr[1]), \n            n = bstr.length, \n            u8arr = new Uint8Array(n);\n            \n        while(n--){\n            u8arr[n] = bstr.charCodeAt(n);\n        }\n        \n        return new File([u8arr], filename, {type:mime});\n    }\n    const test = dataURLtoFile(canvas.toDataURL(), name, type);\n    return test;\n};\n","import axios from 'axios';\n\nconst INITIAL_USERS_STATE = {\n    users: []\n}\n\nfunction usersReducer(state = INITIAL_USERS_STATE, action) {\n    switch(action.type) {\n        case 'LOADUSERS':\n\n            return {\n                users: action.payload\n            }\n        default:\n            return {\n                users: state.users\n            }\n    }\n}\n\nexport default usersReducer;\n\nexport const getUsers = () => dispatch => {\n    axios(`${process.env.REACT_APP_API_URL}/api/auth/getUsers`,\n        {\n            params: { ID: parseInt(JSON.parse(localStorage.storageToken).userId) },\n            headers : { \"authorization\": \"Bearer \" + JSON.parse(localStorage.storageToken).token }\n        } \n    )\n    .then(res => {\n        dispatch({\n            type: 'LOADUSERS',\n            payload: res.data.result\n        })\n    })\n}\n\nexport const getUser = () => dispatch => {\n    axios(`${process.env.REACT_APP_API_URL}/api/auth/getUser`,\n        {\n            params: { ID: parseInt(JSON.parse(localStorage.storageToken).userId) },\n            headers : { \"authorization\": \"Bearer \" + JSON.parse(localStorage.storageToken).token }\n        } \n    )\n    .then(res => {\n        console.log(res.data);\n    })\n}\n\nexport const updateAvatar = data => dispatch => {\n    axios.put(`${process.env.REACT_APP_API_URL}/api/auth/updateAvatar`,\n        data,\n        {\n            params: { ID: parseInt(JSON.parse(localStorage.storageToken).userId) },\n            headers : { \"authorization\": \"Bearer \" + JSON.parse(localStorage.storageToken).token }\n        } \n    )\n    .then(res => {\n        dispatch(getUsers)\n    })\n}","import React, { useState, useCallback, useEffect } from 'react';\nimport Cropper from 'react-easy-crop';\nimport './AvatarCropper.scss'\nimport { generateDownload } from './cropImage';\nimport { useDispatch } from 'react-redux';\nimport { updateAvatar } from '../../redux/usersReducer/usersReduser';\n\nexport default function AvatarCropper({avatar, userId, setUpdateAvatar}) {\n    const [ crop, setCrop ] = useState({ x: 0, y: 0 });\n    const [ zoom, setZoom ] = useState(1);\n    const [ croppedArea, setCroppedArea ] = useState(null);\n    const [ image, setImage ] = useState(null);\n    const [ imageData, setImageData ] = useState(null);\n    const dispatch = useDispatch();\n\n    const onCropComplete = useCallback((croppedArea, croppedAreaPixels) => {\n        setCroppedArea(croppedAreaPixels)\n    }, [])\n\n    useEffect(() => {\n        if (avatar && avatar.length > 0) {\n            setImageData({ type: avatar[0].type, name: avatar[0].name })\n            const reader = new FileReader();\n            reader.readAsDataURL(avatar[0]);\n            reader.addEventListener(\"load\", () => {\n                setImage(reader.result);\n            })\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    const onSubmit = () => {\n        generateDownload(image, croppedArea, imageData)\n        .then(res => {\n            const formData = new FormData();\n            formData.append('file', res);\n            formData.append('userId', userId)\n            dispatch(updateAvatar(formData))\n        })\n    }\n\n    return (\n        <>\n            <Cropper\n                // className=\"avatar-cropper\"\n                image={image}\n                crop={crop}\n                zoom={zoom}\n                aspect={1}\n                objectFit='contain'\n                cropShape=\"round\"\n                showGrid={false}\n                onCropChange={setCrop}\n                onCropComplete={onCropComplete}\n                onZoomChange={setZoom}\n            />\n            <button  onClick={onSubmit} className=\"avatar-button avatar-button-send\">Valider</button>\n        </>\n    )\n}","import React from 'react';\nimport { useHistory } from 'react-router';\nimport './DeleteAccount.scss';\nimport axios from 'axios'\nimport { useDispatch } from 'react-redux';\n\nexport default function DeleteAccount({ setOpenModal }) {\n    const history = useHistory();\n\n    const dispatch = useDispatch()\n    const handleDeleteAccount = () => {\n        dispatch({\n            type: 'DISCONNECT'\n        })\n        axios(`${process.env.REACT_APP_API_URL}/api/auth/deleteAccount`,\n        {\n            params: { ID: parseInt(JSON.parse(localStorage.storageToken).userId) },\n            headers : { \"authorization\": \"Bearer \" + JSON.parse(localStorage.storageToken).token }\n        }\n    )\n    .then(res => {\n        history.push('/signin')\n    })\n    }\n    return (\n        <div className=\"modal\">\n            <div className=\"modal-content light-container\">\n                <h1>Voulez vous vraiment supprimer votre compte ?</h1>\n                <div className=\"modal-button-box\">\n                    <button\n                        onClick={() => handleDeleteAccount()}\n                        id=\"delete-account\"\n                        className=\"modal-button light-button\"\n                    >\n                        Oui\n                    </button>\n                    <button\n                        onClick={() => setOpenModal(false)}\n                        className=\"modal-button light-button\"\n                    >\n                        Annuler\n                    </button>\n                </div>\n            </div>\n        </div>\n    )\n}\n","import React, { useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport './ProfilCard.scss';\nimport { faEdit } from '@fortawesome/free-solid-svg-icons';\nimport { useForm } from 'react-hook-form';\nimport AvatarCropper from '../AvatarCropper/AvatarCropper';\nimport DeleteAccount from '../DeleteAccount/DeleteAccount';\n\nexport default function ProfilCard({ user }) {\n    const [updatedAvatar, setUpdatedAvatar] = useState(user.avatar);\n    const [avatarChanged, setAvatarChanged] = useState(false);\n    const [openModal, setOpenModal] = useState(false);\n    const { register, handleSubmit } = useForm();\n    const date = new Date(user.date_signin);\n    const options = { year: \"numeric\", month: \"long\", day: \"2-digit\"};\n\n    const handleFile = e => {\n        setUpdatedAvatar(e.target.files);\n        setAvatarChanged(true);\n    }\n    \n    const onSubmit = data => {\n        setAvatarChanged(false)\n    }\n\n    return (\n        <section className=\"profil-header \">\n            {JSON.parse(localStorage.storageToken).userId === user.id ?\n                <>\n                <form\n                    className=\"update-avatar-form\"\n                    onSubmit={handleSubmit(onSubmit)}>\n                    <div className=\"profil-header-avatar light-container\">\n                        {avatarChanged ?\n                            <AvatarCropper avatar={updatedAvatar} userId={user.id} setUpdatedAvatar={setUpdatedAvatar}/>\n                        :\n                            <img src={user.avatar} alt=\"avatar\" className=\"profil-header-avatar-img\"/>\n                        }\n                    </div>\n                    {avatarChanged ?\n                        <button\n                            onClick={() => setAvatarChanged(false)}\n                            className=\" light-button avatar-button\">\n                            Annuler\n                        </button>\n                    :\n                        <label htmlFor=\"avatar\" className=\" light-button avatar-button\">\n                            <FontAwesomeIcon\n                                icon={faEdit}\n                                />\n                            Modifier\n                        </label>\n                    }\n                    <input \n                        className=\"avatar image\"\n                        type=\"file\"\n                        id=\"avatar\"\n                        name=\"avatar\"\n                        accept=\"image/png, image/jpeg\"\n                        {...register('avatar')}\n                        onChange={e => handleFile(e)}\n                    />\n                </form>\n                </>\n            :\n                <div className=\"profil-header-avatar light-container\">\n                    <img src={user.avatar} alt=\"avatar\" className=\"profil-header-avatar-img\"/>\n                </div>\n            }\n            <h1>{user.completName}</h1>\n            <p>Inscrit depuis le {date.toLocaleDateString(\"fr-FR\", options)}</p>\n            {JSON.parse(localStorage.storageToken).userId === user.id &&\n            <>\n                <button onClick={() => setOpenModal(!openModal)}>Supprimer votre compte</button>\n                {openModal && \n                    <DeleteAccount\n                        setOpenModal={setOpenModal}\n                    />\n                }\n                </>\n            }\n        </section>\n    )\n}\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useLocation } from 'react-router-dom';\nimport ArticleCard from '../../Components/ArticleCard/ArticleCard';\nimport {v4 as uuidv4} from 'uuid';\nimport Header from '../../Components/Header/Header';\nimport ProfilCard from '../../Components/ProfilCard/ProfilCard';\nimport { getUsers } from '../../redux/usersReducer/usersReduser';\n\n\nexport default function Profile() {\n    const dispatch = useDispatch()\n    const { articles } = useSelector(state => ({\n        ...state.articleReducer\n    }))\n    const location = useLocation();\n    const userProfile = location.pathname.slice(9).split(\"-\");\n    const userId = parseInt(userProfile[2]);\n\n\n    const { users } = useSelector(state => ({\n        ...state.usersReducer\n    }))\n\n    useEffect(() => {\n        dispatch(getUsers())\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    const user = users.find(element => element.id === userId)\n\n    return (\n        <>\n            <Header/>\n            <div className=\"\">\n                {/* <img src={} alt=\"\" /> */}\n            </div>\n            <section className=\"thread\">\n                <ProfilCard user={user}/>\n                {\n                    articles.map(item => (\n                        (userId === item.user_id) &&\n                        <ArticleCard articleData={item} key={uuidv4()}/>\n                    ))\n                }\n            </section>\n        </>\n    )\n}\n","import React, { useState } from \"react\";\nimport { useDispatch } from 'react-redux';\nimport { useForm } from \"react-hook-form\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faImages, faPaperPlane } from \"@fortawesome/free-solid-svg-icons\";\nimport { postArticle } from '../../redux/articles/articleReducer';\nimport './ArticleForm.scss';\n\n\nfunction Formulaire() {\n    const { register, handleSubmit } = useForm();\n    const [preview, setPreview] = useState();\n    const [ fileData, setFileData ] = useState();\n    const dispatch = useDispatch();\n\n    const onSubmit = (data, e) => {\n        const formData = new FormData();\n        formData.append(\"article\", data.article);\n        formData.append(\"file\", fileData);\n        dispatch(postArticle(formData, fileData.type));\n        e.target.reset();\n        setPreview();\n    }\n\n    const handleFile = e => {\n        setFileData(e.target.files[0]);\n        setPreview(URL.createObjectURL(e.target.files[0]))\n    }\n\n    // Adapte textearea size at the text content\n    const handleResize = e => {\n        e.target.style.height = e.target.scrollHeight + \"px\"\n    }\n\n    return (\n        <form\n            className=\"form-article\"\n            onSubmit={handleSubmit(onSubmit)}>\n            <textarea\n                onInput={e => handleResize(e)}\n                aria-label=\"ajouter un article\"\n                placeholder=\"Quoi de neuf ?\"\n                className=\"form-article-input\"\n                {...register('article', {required: true})} />\n            <label \n                htmlFor=\"image\"\n                className=\"form-article-button form-article-file\">\n                <FontAwesomeIcon\n                    icon={faImages}/>\n            </label>\n            <input\n                type=\"file\"\n                id=\"image\"\n                className=\"image\"\n                name=\"file\"\n                accept=\"image/*\"\n                {...register('file', {required: true})}\n                onChange={(e) => handleFile(e)}/>\n            {preview && <img src={preview} alt=\"preview\"  className=\"preview\"/>}\n            <button\n            type=\"submit\"\n                className=\"form-article-button form-article-send\">\n                    <FontAwesomeIcon\n                        icon={faPaperPlane}\n                        className=\"article-form-send\"/>\n            </button>\n        </form>\n    )\n}\n\nexport default Formulaire;","import axios from 'axios';\n\nconst INITIAL_REPORT_STATE = {\n    reported: {}\n}\n\nfunction reportArticle(state = INITIAL_REPORT_STATE, action) {\n    switch(action.type) {\n        case 'LOADREPORTS':\n            const reported = {\n                articles: [...action.payload[0]],\n                comments: [...action.payload[1]],\n                count: action.payload[0].length + action.payload[1].length\n            };\n            return {\n                reported: reported\n            }\n\n        case 'DELETE_ARTICLE_REPORTED':\n            const deletedArticleReport = {\n                articles: state.reported.articles.filter(item => item.id !== action.payload),\n                comments: state.reported.comments,\n                count: state.reported.count - 1\n            }\n            return {\n                reported: deletedArticleReport\n            }\n\n        case 'DELETE_COMMENT_REPORTED':\n            const deletedCommentReport = {\n                articles: state.reported.articles,\n                comments: state.reported.comments.filter(item => item.id !== action.payload)\n            }\n            return {\n                reported: deletedCommentReport\n            }\n\n        default:\n            return {\n                reported: state.reported\n            }\n    }\n}\n\nexport default reportArticle;\n\nexport const loadReports = () => dispatch => {\n    axios(`${process.env.REACT_APP_API_URL}/api/moderator/getReports`,\n        {\n            params: { ID: parseInt(JSON.parse(localStorage.storageToken).userId) },\n            headers : { \"authorization\": \"Bearer \" + JSON.parse(localStorage.storageToken).token }\n        }\n    )\n    .then(res => {\n        dispatch({\n            type: 'LOADREPORTS',\n            payload: res.data\n        })\n    })\n}\n\nexport const deleteArticleReported = articleId => dispatch => {\n    axios.delete(`${process.env.REACT_APP_API_URL}/api/moderator/deleteArticle`,\n        {\n            params: { ID: parseInt(JSON.parse(localStorage.storageToken).userId) },\n            headers : { \"authorization\": \"Bearer \" + JSON.parse(localStorage.storageToken).token },\n            data: { articleId }\n        }\n    )\n    .then(res => {\n        dispatch({\n            type: 'DELETE_ARTICLE_REPORTED',\n            payload: articleId\n        })\n    })\n}\n\nexport const deleteCommentReported = commentId => dispatch => {\n    axios.delete(`${process.env.REACT_APP_API_URL}/api/moderator/deleteComment`,\n        {\n            params: { ID: parseInt(JSON.parse(localStorage.storageToken).userId) },\n            headers : { \"authorization\": \"Bearer \" + JSON.parse(localStorage.storageToken).token },\n            data: { commentId }\n        }\n    )\n        .then(res => {\n            dispatch({\n                type: 'DELETE_COMMENT_REPORTED',\n                payload: commentId\n            })\n        })\n}","import React from 'react';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getArticles } from '../../redux/articles/articleReducer';\nimport { getUsers } from '../../redux/usersReducer/usersReduser';\nimport ArticleForm from '../../Components/ArticleForm/ArticleForm';\nimport ArticleCard from '../../Components/ArticleCard/ArticleCard';\nimport Header from '../../Components/Header/Header';\nimport {v4 as uuidv4} from 'uuid';\nimport { loadReports } from '../../redux/reportReducer/reportReducer';\nimport './Home.scss';\n\n\nexport default function Home() {\n\n    const { articles } = useSelector(state => ({\n        ...state.articleReducer\n    }))\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        // Get Articles and users\n        dispatch(getArticles());\n        dispatch(getUsers());\n        // Check if user is moderator\n        // If moderator load reported posts\n        if (JSON.parse(localStorage.storageToken).userRole === 'Moderator') {\n            dispatch(loadReports());\n        }\n    }, [dispatch]);\n\n    return (\n        <>\n            <Header/>\n            <section className=\"thread\">\n            <ArticleForm/>\n                {articles.map((item, index) => (\n                    <ArticleCard articleData={item} index={index} key={uuidv4()}/>\n                ))}\n            </section>\n        </>\n\n    )\n}\n","import axios from 'axios';\nconst INITIAL_SOCKET_STATE = {\n    messages: []\n}\n\nfunction socketReducer(state = INITIAL_SOCKET_STATE, action) {\n    switch(action.type) {\n        case 'LOADCHAT':\n            return {\n                messages: action.payload\n            }\n\n        case 'SENDCHAT':\n            const newList = [...state.messages, action.payload];\n            return {\n                messages: newList\n            }\n\n        default:\n            return {\n                messages: state.messages\n            }\n    }\n}\n\nexport default socketReducer;\n\nexport const loadChat = () => dispatch => {\n    axios(`${process.env.REACT_APP_API_URL}/api/chat/loadMessages`,\n        {\n            params: { ID: parseInt(JSON.parse(localStorage.storageToken).userId) },\n            headers : { \"authorization\": \"Bearer \" + JSON.parse(localStorage.storageToken).token }\n        }\n    )\n    .then(res => {\n        dispatch({\n            type: 'LOADCHAT',\n            payload: res.data\n        })\n    })\n}\n\nexport const sendChat = message => dispatch => {\n\n    dispatch({\n        type: 'SENDCHAT',\n        payload: message\n    })\n}","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Header from '../../Components/Header/Header';\nimport './CharRoom.scss';\nimport { loadChat, sendChat } from '../../redux/socketReducer/socketReducer';\nimport io from 'socket.io-client';\n\nlet socket;\nexport default function ChatRoom() {\n    const { messages } = useSelector(state => state.socketReducer)\n    const [ messagesList, setMessagesList ] = useState(messages)\n    const [ users, setUsers ] = useState([])\n    const [ myId, setMyId ] = useState();\n    const dispatch = useDispatch()\n    const me = parseInt(JSON.parse(localStorage.storageToken).userId)\n    \n    useEffect(() => {\n        socket = io(process.env.REACT_APP_API_URL, {path: '/groupomania_chat/'});\n        socket.auth = localStorage.storageToken && { \n            token: JSON.parse(localStorage.storageToken).token,\n            userId: JSON.parse(localStorage.storageToken).userId\n        }\n        socket.connect();\n        dispatch(loadChat());\n        setMessagesList(messages);\n        return () => {\n            socket.disconnect(socket.auth.userId);\n            socket.close();\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    useEffect(() => {\n        window.scrollTo(0,document.body.scrollHeight);\n        setMessagesList(messages)\n    }, [messages])\n\n    useEffect(() => {\n        socket.on('chat message', message => {\n            if (message.user.id !== me) {\n                dispatch(sendChat(message))\n            }\n            window.scrollTo(0,document.body.scrollHeight);\n\n        })\n        socket.on('user connected', users => {\n            setUsers(users)\n            const MyId = users.filter(item => item.id === me);\n            setMyId(...MyId);\n        })\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    },[])\n\n    const handleSubmit = e => {\n        e.preventDefault()\n        socket.emit('chat message', e.target[0].value);\n        const messageData = {\n            message: e.target[0].value,\n            user: myId\n        }\n        dispatch(sendChat(messageData))\n        e.target[0].value = \"\";\n    }\n\n    return (\n        <>\n            <Header/>\n            <ul className=\"users-list light-container\">\n                {users && users.map((item, index) => ( \n                    <li key={index}>\n                        <img src={item.avatar} alt=\"avatar\" />\n                        {item.id === me ?\n                            <span>\n                                vous\n                            </span>\n                        :\n                            <span>\n                            {item.prenom} {item.nom}\n                            </span>\n                        }\n                    </li>\n                ))}\n            </ul>\n            <ul className=\"chat-list\">\n                {messagesList && messagesList.map((item, index) => (\n                    <li \n                        className={\n                            item.user.id === me ?\n                            \"chat-message-me chat-message\"\n                            :\n                            \"chat-message-other chat-message\"\n                        }\n                        key={index}>\n                        <img src={item.user.avatar} alt=\"avatar\" />\n                    <div>\n                        <div className=\"light-container chat-message-text\">\n                            {item.message}\n                        </div>\n                        {item.user.id === me ?\n                            <span>\n                                vous\n                            </span>\n                        :\n                            <span>\n                                {item.user.prenom} {item.user.nom} \n                            </span>\n                        }\n                    </div>\n                    </li>\n                ))}\n            </ul>\n            <form className=\"chat-form\"\n                onSubmit={e => handleSubmit(e)}>\n                <input type=\"text\"/>\n                <button\n                    type=\"submit\"\n                    className=\"chat-button\">\n                    envoyer\n                </button>\n            </form>\n        </>\n    )\n}\n","import React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { v4 as uuidv4 } from 'uuid';\nimport Header from '../../Components/Header/Header';\nimport { loadReports } from '../../redux/reportReducer/reportReducer';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { useDispatch } from 'react-redux';\nimport { deleteArticleReported, deleteCommentReported } from '../../redux/reportReducer/reportReducer'\nimport './ReportPage.scss';\nimport { faTrashAlt } from '@fortawesome/free-solid-svg-icons';\n\nexport default function ReportPage() {\n    const { reported } = useSelector(state => state.reportReducer);\n\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        dispatch(loadReports());\n    }, [dispatch])\n\n    const handleDeleteArticle = articleId => {\n        dispatch(deleteArticleReported(articleId))\n    }\n\n    const handleDeleteComment = commentId => {\n        dispatch(deleteCommentReported(commentId))\n    }\n\n    return (\n        <>\n            <Header/>\n            <main  className=\"report-page\">\n                <h2>Articles Signalés</h2>\n                <section>\n                    {reported.articles.length ?\n                        reported.articles.map(item => (\n                            <article\n                                key={uuidv4()}\n                                className=\"light-container report-card\">\n                                <div className=\"card-header\">\n                                    <img\n                                        className=\"avatar light-container\"\n                                        src={item.avatar}\n                                        alt=\"avatar\" />\n                                    <p>{item.prenom} {item.nom}</p>\n                                </div>\n                                <figure>\n                                    <figcaption>\n                                        {item.texte_article}\n                                    </figcaption>\n                                    <img src={item.image_url} alt=\"\" />\n                                </figure>\n                                <button\n                                    onClick={() => handleDeleteArticle(item.id)}\n                                >\n                                    <FontAwesomeIcon \n                                        icon={faTrashAlt}\n                                    />\n                                </button>\n                            </article>\n                        ))\n                    :\n                        <h2>Aucuns Articles Signalés</h2>\n                    }\n                </section>\n                <h2>Commentaires Signalés</h2>\n                <section>\n                    {reported.comments.length ?\n                        reported.comments.map(item => (\n                            <article\n                                key={uuidv4()}\n                                className=\"light-container report-card\">\n                                <div className=\"card-header\">\n                                    <img\n                                        className=\"avatar light-container\"\n                                        src={item.avatar}\n                                        alt=\"avatar\" />\n                                    <p>{item.prenom} {item.nom}</p>\n                                </div>\n                                <p>\n                                    {item.texte_commentaire}\n                                </p>\n                                <button\n                                    onClick={() => handleDeleteComment(item.id)}\n                                >\n                                    <FontAwesomeIcon \n                                        icon={faTrashAlt}\n                                    />\n                                </button>\n                            </article>\n                        ))\n                    :\n                        <h2>Aucuns Commentaires Signalés</h2>\n                    }\n                </section>\n            </main>\n        </>\n    )\n}\n","import { HashRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\nimport Signin from './Containers/Signin/Signin';\nimport Login from './Containers/Login/Login';\nimport Profile from './Containers/Profile/Profile';\nimport Home from './Containers/Home/Home';\nimport ChatRoom from './Containers/ChatRoom/ChatRoom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { restoreConnection } from './redux/connectedReducer/connectedReducer';\nimport ReportPage from './Containers/ReportPage/ReportPage';\n\nexport default function App() {\n  \n  const connected = useSelector(state => state.connectedReducer.connected)\n\n  const dispatch = useDispatch()\n\n  // If token in localstorage try reconnection\n  if (!connected && localStorage.storageToken) {\n    dispatch(restoreConnection())\n  }\n\n  return (\n    <>\n      <Router>\n        <Switch>\n          <Route path='/' exact>\n            <Redirect to='/login'/>\n          </Route>\n          <Route path='/signin' exact component={Signin} />\n          <Route path='/login' exact component={Login} />\n          {connected &&\n            <>\n              <Route path='/home' exact component={Home} />\n              <Route path='/chat' exact component={ChatRoom}/>\n              <Route path='/profile/:slug' exact component={Profile} />\n              <Route path='/ReportPage' exact component={ReportPage}/>\n            </>\n          }\n        </Switch>\n      </Router>\n    </>\n  )\n}\n\n","import { createStore, combineReducers, applyMiddleware } from 'redux';\nimport articleReducer from './articles/articleReducer';\nimport connectedReducer from './connectedReducer/connectedReducer';\nimport usersReducer from './usersReducer/usersReduser';\nimport reportReducer from './reportReducer/reportReducer';\nimport socketReducer from './socketReducer/socketReducer';\nimport thunk from 'redux-thunk';\n\nconst rootReducer = combineReducers({\n    articleReducer,\n    connectedReducer,\n    usersReducer,\n    reportReducer,\n    socketReducer\n});\n\nconst store = createStore(rootReducer, applyMiddleware(thunk));\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App.js';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport './index.scss'\n\nReactDOM.render(\n  <Provider store={store}>\n  <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}